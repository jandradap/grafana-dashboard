{
   "__inputs":[
      {
         "name":"DS_PROMETHEUS",
         "label":"prometheus",
         "description":"",
         "type":"datasource",
         "pluginId":"prometheus",
         "pluginName":"Prometheus"
      }
   ],
   "__requires":[
      {
         "type":"panel",
         "id":"gauge",
         "name":"Gauge",
         "version":""
      },
      {
         "type":"grafana",
         "id":"grafana",
         "name":"Grafana",
         "version":"7.3.10"
      },
      {
         "type":"datasource",
         "id":"prometheus",
         "name":"Prometheus",
         "version":"1.0.0"
      },
      {
         "type":"panel",
         "id":"singlestat",
         "name":"Singlestat",
         "version":""
      },
      {
         "type":"panel",
         "id":"table-old",
         "name":"Table (old)",
         "version":""
      }
   ],
   "annotations":{
      "list":[
         {
            "builtIn":1,
            "datasource":"-- Grafana --",
            "enable":true,
            "hide":true,
            "iconColor":"rgba(0, 211, 255, 1)",
            "limit":100,
            "name":"Annotations & Alerts",
            "showIn":0,
            "type":"dashboard"
         }
      ]
   },
   "editable":true,
   "gnetId":null,
   "graphTooltip":0,
   "id":null,
   "iteration":1620904471846,
   "links":[
      
   ],
   "panels":[
      {
         "cacheTimeout":null,
         "datasource":"${DS_PROMETHEUS}",
         "fieldConfig":{
            "defaults":{
               "custom":{
                  
               },
               "displayName":"",
               "mappings":[
                  
               ],
               "nullValueMode":"connected",
               "thresholds":{
                  "mode":"absolute",
                  "steps":[
                     {
                        "color":"green",
                        "value":null
                     },
                     {
                        "color":"#EAB839",
                        "value":70
                     },
                     {
                        "color":"red",
                        "value":90
                     }
                  ]
               },
               "unit":"percent"
            },
            "overrides":[
               
            ]
         },
         "gridPos":{
            "h":6,
            "w":6,
            "x":0,
            "y":0
         },
         "id":11,
         "links":[
            
         ],
         "options":{
            "orientation":"horizontal",
            "reduceOptions":{
               "calcs":[
                  "lastNotNull"
               ],
               "fields":"",
               "values":false
            },
            "showThresholdLabels":false,
            "showThresholdMarkers":true
         },
         "pluginVersion":"7.3.10",
         "targets":[
            {
               "expr":"sum(container_memory_working_set_bytes{container_name!=\"POD\", container_name!=\"\"} * on(namespace) group_left(label_name) kube_namespace_labels{label_cliente=~\"$aplicacion*\"}) / sum(kube_resourcequota{resource=\"limits.memory\",type=\"used\"} * on(namespace) group_left(label_name) kube_namespace_labels{label_cliente=~\"$aplicacion*\"}) *100",
               "instant":true,
               "interval":"",
               "legendFormat":"",
               "refId":"A"
            }
         ],
         "timeFrom":null,
         "timeShift":null,
         "title":"% Uso memoria RAM",
         "transparent":true,
         "type":"gauge"
      },
      {
         "datasource":"${DS_PROMETHEUS}",
         "fieldConfig":{
            "defaults":{
               "custom":{
                  
               },
               "mappings":[
                  
               ],
               "thresholds":{
                  "mode":"absolute",
                  "steps":[
                     {
                        "color":"green",
                        "value":null
                     },
                     {
                        "color":"#EAB839",
                        "value":70
                     },
                     {
                        "color":"red",
                        "value":90
                     }
                  ]
               },
               "unit":"percent"
            },
            "overrides":[
               
            ]
         },
         "gridPos":{
            "h":6,
            "w":5,
            "x":9,
            "y":0
         },
         "id":13,
         "options":{
            "orientation":"auto",
            "reduceOptions":{
               "calcs":[
                  "mean"
               ],
               "fields":"",
               "values":false
            },
            "showThresholdLabels":false,
            "showThresholdMarkers":true
         },
         "pluginVersion":"7.3.10",
         "targets":[
            {
               "expr":"sum(namespace_pod_name_container_name:container_cpu_usage_seconds_total:sum_rate{namespace=~\".*\"} * on(namespace) group_left(label_name) kube_namespace_labels{label_cliente=~\"$aplicacion*\"}) / sum(kube_resourcequota{resource=\"limits.cpu\",type=\"used\"} * on(namespace) group_left(label_name) kube_namespace_labels{label_cliente=~\"$aplicacion*\"})* 100",
               "interval":"",
               "legendFormat":"",
               "refId":"A"
            }
         ],
         "timeFrom":null,
         "timeShift":null,
         "title":"% Uso CPU",
         "transparent":true,
         "type":"gauge"
      },
      {
         "datasource":"${DS_PROMETHEUS}",
         "fieldConfig":{
            "defaults":{
               "custom":{
                  
               },
               "mappings":[
                  
               ],
               "thresholds":{
                  "mode":"absolute",
                  "steps":[
                     {
                        "color":"green",
                        "value":null
                     },
                     {
                        "color":"#EAB839",
                        "value":70
                     },
                     {
                        "color":"red",
                        "value":90
                     }
                  ]
               },
               "unit":"percent"
            },
            "overrides":[
               
            ]
         },
         "gridPos":{
            "h":6,
            "w":5,
            "x":18,
            "y":0
         },
         "id":14,
         "options":{
            "orientation":"auto",
            "reduceOptions":{
               "calcs":[
                  "mean"
               ],
               "fields":"",
               "values":false
            },
            "showThresholdLabels":false,
            "showThresholdMarkers":true
         },
         "pluginVersion":"7.3.10",
         "targets":[
            {
               "expr":"sum(max by (persistentvolumeclaim,namespace) (kubelet_volume_stats_used_bytes) * on(namespace) group_left(label_name) kube_namespace_labels{label_cliente=~\"$aplicacion*\"}) / sum(max by (persistentvolumeclaim,namespace) (kubelet_volume_stats_capacity_bytes) * on(namespace) group_left(label_name) kube_namespace_labels{label_cliente=~\"$aplicacion*\"})* 100",
               "interval":"",
               "legendFormat":"",
               "refId":"A"
            }
         ],
         "timeFrom":null,
         "timeShift":null,
         "title":"% Uso Disco",
         "transparent":true,
         "type":"gauge"
      },
      {
         "cacheTimeout":null,
         "columns":[
            
         ],
         "datasource":"${DS_PROMETHEUS}",
         "fieldConfig":{
            "defaults":{
               "custom":{
                  
               }
            },
            "overrides":[
               
            ]
         },
         "fontSize":"120%",
         "gridPos":{
            "h":5,
            "w":23,
            "x":0,
            "y":6
         },
         "id":9,
         "links":[
            
         ],
         "pageSize":null,
         "pluginVersion":"6.7.1",
         "showHeader":true,
         "sort":{
            "col":5,
            "desc":false
         },
         "styles":[
            {
               "alias":"Namespace",
               "align":"auto",
               "dateFormat":"YYYY-MM-DD HH:mm:ss",
               "pattern":"Value #J",
               "type":"string"
            },
            {
               "alias":"Espacio Usado",
               "align":"auto",
               "colorMode":null,
               "colors":[
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
               ],
               "dateFormat":"YYYY-MM-DD HH:mm:ss",
               "decimals":2,
               "mappingType":1,
               "pattern":"Value #B",
               "thresholds":[
                  
               ],
               "type":"number",
               "unit":"bytes"
            },
            {
               "alias":"Espacio Asignado",
               "align":"auto",
               "colorMode":null,
               "colors":[
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
               ],
               "dateFormat":"YYYY-MM-DD HH:mm:ss",
               "decimals":2,
               "mappingType":1,
               "pattern":"Value #C",
               "thresholds":[
                  
               ],
               "type":"number",
               "unit":"bytes"
            },
            {
               "alias":"Espacio Disponible",
               "align":"auto",
               "colorMode":null,
               "colors":[
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
               ],
               "dateFormat":"YYYY-MM-DD HH:mm:ss",
               "decimals":2,
               "mappingType":1,
               "pattern":"Value #D",
               "thresholds":[
                  
               ],
               "type":"number",
               "unit":"bytes"
            },
            {
               "alias":"Aplicacion",
               "align":"auto",
               "colorMode":null,
               "colors":[
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
               ],
               "dateFormat":"YYYY-MM-DD HH:mm:ss",
               "decimals":2,
               "mappingType":1,
               "pattern":"label_cliente",
               "thresholds":[
                  
               ],
               "type":"string",
               "unit":"short"
            },
            {
               "alias":"PVCs",
               "align":"auto",
               "colorMode":null,
               "colors":[
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
               ],
               "dateFormat":"YYYY-MM-DD HH:mm:ss",
               "decimals":null,
               "mappingType":1,
               "pattern":"Value #A",
               "thresholds":[
                  
               ],
               "type":"number",
               "unit":"short"
            },
            {
               "alias":"CPU Total",
               "align":"auto",
               "colorMode":null,
               "colors":[
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
               ],
               "dateFormat":"YYYY-MM-DD HH:mm:ss",
               "decimals":2,
               "mappingType":1,
               "pattern":"Value #F",
               "thresholds":[
                  
               ],
               "type":"number",
               "unit":"short"
            },
            {
               "alias":"CPU Usado",
               "align":"auto",
               "colorMode":null,
               "colors":[
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
               ],
               "dateFormat":"YYYY-MM-DD HH:mm:ss",
               "decimals":2,
               "mappingType":1,
               "pattern":"Value #G",
               "thresholds":[
                  
               ],
               "type":"number",
               "unit":"short"
            },
            {
               "alias":"Memoria Total",
               "align":"auto",
               "colorMode":null,
               "colors":[
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
               ],
               "dateFormat":"YYYY-MM-DD HH:mm:ss",
               "decimals":2,
               "mappingType":1,
               "pattern":"Value #H",
               "thresholds":[
                  
               ],
               "type":"number",
               "unit":"bytes"
            },
            {
               "alias":"Memoria Usada",
               "align":"auto",
               "colorMode":null,
               "colors":[
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
               ],
               "dateFormat":"YYYY-MM-DD HH:mm:ss",
               "decimals":2,
               "mappingType":1,
               "pattern":"Value #I",
               "thresholds":[
                  
               ],
               "type":"number",
               "unit":"bytes"
            },
            {
               "alias":"Pods",
               "align":"auto",
               "colorMode":null,
               "colors":[
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
               ],
               "dateFormat":"YYYY-MM-DD HH:mm:ss",
               "decimals":null,
               "mappingType":1,
               "pattern":"Value #K",
               "thresholds":[
                  
               ],
               "type":"number",
               "unit":"short"
            },
            {
               "alias":"",
               "align":"right",
               "colorMode":null,
               "colors":[
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
               ],
               "decimals":2,
               "pattern":"/.*/",
               "thresholds":[
                  
               ],
               "type":"hidden",
               "unit":"short"
            }
         ],
         "targets":[
            {
               "expr":"max by (kube_namespace_labels,label_cliente) (kube_namespace_labels{label_cliente=~\"$aplicacion*\"} * on(namespace) group_left(label_name) kube_namespace_labels{label_cliente=~\"$aplicacion*\"})",
               "format":"table",
               "instant":true,
               "interval":"",
               "legendFormat":"",
               "refId":"E"
            },
            {
               "expr":"count(kube_namespace_created * on(namespace) group_left(label_name) kube_namespace_labels{label_cliente=~\"$aplicacion*\"})",
               "format":"table",
               "instant":true,
               "interval":"",
               "legendFormat":"",
               "refId":"J"
            },
            {
               "expr":"count(kube_pod_status_phase{phase=\"Running\"} * on(namespace) group_left(label_name) kube_namespace_labels{label_cliente=~\"$aplicacion*\"} > 0)",
               "format":"table",
               "instant":true,
               "interval":"",
               "legendFormat":"",
               "refId":"K"
            },
            {
               "expr":"sum((kube_persistentvolumeclaim_info) * on(namespace) group_left(label_name) kube_namespace_labels{label_cliente=~\"$aplicacion*\"})",
               "format":"table",
               "hide":false,
               "instant":true,
               "interval":"",
               "intervalFactor":2,
               "legendFormat":"",
               "refId":"A"
            },
            {
               "expr":"sum(max by (persistentvolumeclaim,namespace) (kubelet_volume_stats_capacity_bytes) * on(namespace) group_left(label_name) kube_namespace_labels{label_cliente=~\"$aplicacion*\"})",
               "format":"table",
               "instant":true,
               "interval":"",
               "legendFormat":"",
               "refId":"C"
            },
            {
               "expr":"sum(max by (persistentvolumeclaim,namespace) (kubelet_volume_stats_used_bytes) * on(namespace) group_left(label_name) kube_namespace_labels{label_cliente=~\"$aplicacion*\"})",
               "format":"table",
               "instant":true,
               "interval":"",
               "legendFormat":"",
               "refId":"B"
            },
            {
               "expr":"sum(max by (persistentvolumeclaim,namespace) (kubelet_volume_stats_available_bytes) * on(namespace) group_left(label_name) kube_namespace_labels{label_cliente=~\"$aplicacion*\"})",
               "format":"table",
               "instant":true,
               "interval":"",
               "legendFormat":"",
               "refId":"D"
            },
            {
               "expr":"sum(kube_resourcequota{resource=\"limits.cpu\",type=\"hard\"} * on(namespace) group_left(label_name) kube_namespace_labels{label_cliente=~\"$aplicacion*\"})",
               "format":"table",
               "instant":true,
               "interval":"",
               "legendFormat":"",
               "refId":"F"
            },
            {
               "expr":"sum(kube_resourcequota{resource=\"limits.cpu\",type=\"used\"} * on(namespace) group_left(label_name) kube_namespace_labels{label_cliente=~\"$aplicacion*\"})",
               "format":"table",
               "instant":true,
               "interval":"",
               "legendFormat":"",
               "refId":"G"
            },
            {
               "expr":"sum(kube_resourcequota{resource=\"limits.memory\",type=\"hard\"} * on(namespace) group_left(label_name) kube_namespace_labels{label_cliente=~\"$aplicacion*\"})",
               "format":"table",
               "instant":true,
               "interval":"",
               "legendFormat":"",
               "refId":"H"
            },
            {
               "expr":"sum(kube_resourcequota{resource=\"limits.memory\",type=\"used\"} * on(namespace) group_left(label_name) kube_namespace_labels{label_cliente=~\"$aplicacion*\"})",
               "format":"table",
               "instant":true,
               "interval":"",
               "legendFormat":"",
               "refId":"I"
            }
         ],
         "timeFrom":null,
         "timeShift":null,
         "title":"Resumen",
         "transform":"table",
         "type":"table-old"
      },
      {
         "cacheTimeout":null,
         "colorBackground":false,
         "colorPostfix":false,
         "colorValue":true,
         "colors":[
            "#299c46",
            "rgba(237, 129, 40, 0.89)",
            "#d44a3a"
         ],
         "datasource":"${DS_PROMETHEUS}",
         "fieldConfig":{
            "defaults":{
               "custom":{
                  
               }
            },
            "overrides":[
               
            ]
         },
         "format":"none",
         "gauge":{
            "maxValue":100,
            "minValue":0,
            "show":false,
            "thresholdLabels":false,
            "thresholdMarkers":true
         },
         "gridPos":{
            "h":6,
            "w":4,
            "x":0,
            "y":11
         },
         "id":4,
         "interval":null,
         "links":[
            
         ],
         "mappingType":1,
         "mappingTypes":[
            {
               "name":"value to text",
               "value":1
            },
            {
               "name":"range to text",
               "value":2
            }
         ],
         "maxDataPoints":100,
         "nullPointMode":"connected",
         "nullText":null,
         "pluginVersion":"6.7.1",
         "postfix":"",
         "postfixFontSize":"50%",
         "prefix":"",
         "prefixFontSize":"50%",
         "rangeMaps":[
            {
               "from":"null",
               "text":"N/A",
               "to":"null"
            }
         ],
         "sparkline":{
            "fillColor":"rgba(31, 118, 189, 0.18)",
            "full":false,
            "lineColor":"rgb(31, 120, 193)",
            "show":false,
            "ymax":null,
            "ymin":null
         },
         "tableColumn":"",
         "targets":[
            {
               "expr":"count(kube_namespace_created * on(namespace) group_left(label_name) kube_namespace_labels{label_cliente=~\"$aplicacion*\"})",
               "format":"table",
               "hide":false,
               "instant":true,
               "interval":"",
               "intervalFactor":1,
               "legendFormat":"{$entorno}{$aplicacion} ({{pod}})",
               "refId":"A"
            }
         ],
         "thresholds":"",
         "timeFrom":null,
         "timeShift":null,
         "title":"Número de Namespaces",
         "type":"singlestat",
         "valueFontSize":"200%",
         "valueMaps":[
            {
               "op":"=",
               "text":"N/A",
               "value":"null"
            }
         ],
         "valueName":"avg"
      },
      {
         "cacheTimeout":null,
         "columns":[
            
         ],
         "datasource":"${DS_PROMETHEUS}",
         "fieldConfig":{
            "defaults":{
               "custom":{
                  
               }
            },
            "overrides":[
               
            ]
         },
         "fontSize":"120%",
         "gridPos":{
            "h":6,
            "w":19,
            "x":4,
            "y":11
         },
         "id":5,
         "links":[
            
         ],
         "pageSize":null,
         "pluginVersion":"6.7.1",
         "showHeader":true,
         "sort":{
            "col":5,
            "desc":true
         },
         "styles":[
            {
               "alias":"Namespace",
               "align":"auto",
               "dateFormat":"YYYY-MM-DD HH:mm:ss",
               "pattern":"namespace",
               "type":"string"
            },
            {
               "alias":"",
               "align":"right",
               "colorMode":null,
               "colors":[
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
               ],
               "decimals":2,
               "pattern":"/.*/",
               "thresholds":[
                  
               ],
               "type":"hidden",
               "unit":"short"
            }
         ],
         "targets":[
            {
               "expr":"kube_namespace_created * on(namespace) group_left(label_name) kube_namespace_labels{label_cliente=~\"$aplicacion*\"}",
               "format":"table",
               "hide":false,
               "instant":true,
               "interval":"",
               "intervalFactor":2,
               "legendFormat":"{$entorno}{$aplicacion} ({{namespace}})",
               "refId":"A"
            }
         ],
         "timeFrom":null,
         "timeShift":null,
         "title":"Namespaces",
         "transform":"table",
         "type":"table-old"
      },
      {
         "cacheTimeout":null,
         "colorBackground":false,
         "colorValue":true,
         "colors":[
            "#299c46",
            "rgba(237, 129, 40, 0.89)",
            "#d44a3a"
         ],
         "datasource":"${DS_PROMETHEUS}",
         "fieldConfig":{
            "defaults":{
               "custom":{
                  
               }
            },
            "overrides":[
               
            ]
         },
         "format":"none",
         "gauge":{
            "maxValue":100,
            "minValue":0,
            "show":false,
            "thresholdLabels":false,
            "thresholdMarkers":true
         },
         "gridPos":{
            "h":11,
            "w":4,
            "x":0,
            "y":17
         },
         "id":2,
         "interval":null,
         "links":[
            
         ],
         "mappingType":1,
         "mappingTypes":[
            {
               "name":"value to text",
               "value":1
            },
            {
               "name":"range to text",
               "value":2
            }
         ],
         "maxDataPoints":100,
         "nullPointMode":"connected",
         "nullText":null,
         "pluginVersion":"6.7.1",
         "postfix":"",
         "postfixFontSize":"50%",
         "prefix":"",
         "prefixFontSize":"50%",
         "rangeMaps":[
            {
               "from":"null",
               "text":"N/A",
               "to":"null"
            }
         ],
         "sparkline":{
            "fillColor":"rgba(31, 118, 189, 0.18)",
            "full":false,
            "lineColor":"rgb(31, 120, 193)",
            "show":false,
            "ymax":null,
            "ymin":null
         },
         "tableColumn":"",
         "targets":[
            {
               "expr":"sum(kube_pod_status_phase{phase=\"Running\"} * on(namespace) group_left(label_name) kube_namespace_labels{label_cliente=~\"$aplicacion*\"} > 0)",
               "format":"table",
               "hide":false,
               "instant":true,
               "interval":"",
               "intervalFactor":1,
               "legendFormat":"{$entorno}{$aplicacion} ({{pod}})",
               "refId":"A"
            }
         ],
         "thresholds":"",
         "timeFrom":null,
         "timeShift":null,
         "title":"Número de Pods",
         "type":"singlestat",
         "valueFontSize":"200%",
         "valueMaps":[
            {
               "op":"=",
               "text":"N/A",
               "value":"null"
            }
         ],
         "valueName":"avg"
      },
      {
         "cacheTimeout":null,
         "columns":[
            
         ],
         "datasource":"${DS_PROMETHEUS}",
         "fieldConfig":{
            "defaults":{
               "custom":{
                  
               }
            },
            "overrides":[
               
            ]
         },
         "fontSize":"120%",
         "gridPos":{
            "h":11,
            "w":19,
            "x":4,
            "y":17
         },
         "id":3,
         "links":[
            
         ],
         "pageSize":null,
         "pluginVersion":"6.7.1",
         "showHeader":true,
         "sort":{
            "col":null,
            "desc":false
         },
         "styles":[
            {
               "alias":"Namespace",
               "align":"auto",
               "colorMode":null,
               "colors":[
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
               ],
               "dateFormat":"YYYY-MM-DD HH:mm:ss",
               "decimals":2,
               "mappingType":1,
               "pattern":"namespace",
               "thresholds":[
                  
               ],
               "type":"string",
               "unit":"short"
            },
            {
               "alias":"Pod",
               "align":"auto",
               "colorMode":null,
               "colors":[
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
               ],
               "dateFormat":"YYYY-MM-DD HH:mm:ss",
               "decimals":2,
               "mappingType":1,
               "pattern":"pod",
               "thresholds":[
                  
               ],
               "type":"string",
               "unit":"short"
            },
            {
               "alias":"Entorno",
               "align":"auto",
               "colorMode":null,
               "colors":[
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
               ],
               "dateFormat":"YYYY-MM-DD HH:mm:ss",
               "decimals":2,
               "mappingType":1,
               "pattern":"annotation_openshift_io_node_selector",
               "thresholds":[
                  
               ],
               "type":"string",
               "unit":"short"
            },
            {
               "alias":"Estado",
               "align":"auto",
               "colorMode":null,
               "colors":[
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
               ],
               "dateFormat":"YYYY-MM-DD HH:mm:ss",
               "decimals":2,
               "mappingType":1,
               "pattern":"phase",
               "thresholds":[
                  
               ],
               "type":"number",
               "unit":"short"
            },
            {
               "alias":"Cliente",
               "align":"auto",
               "colorMode":null,
               "colors":[
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
               ],
               "dateFormat":"YYYY-MM-DD HH:mm:ss",
               "decimals":2,
               "mappingType":1,
               "pattern":"$Aplicacion",
               "thresholds":[
                  
               ],
               "type":"string",
               "unit":"short"
            },
            {
               "alias":"",
               "align":"auto",
               "colorMode":null,
               "colors":[
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
               ],
               "dateFormat":"YYYY-MM-DD HH:mm:ss",
               "decimals":2,
               "mappingType":1,
               "pattern":"/.*/",
               "thresholds":[
                  
               ],
               "type":"hidden",
               "unit":"short"
            }
         ],
         "targets":[
            {
               "expr":"kube_pod_status_phase{phase=\"Running\"} * on(namespace) group_left(label_name) kube_namespace_labels{label_cliente=~\"$aplicacion*\"} > 0",
               "format":"table",
               "instant":true,
               "interval":"",
               "legendFormat":"",
               "refId":"A"
            }
         ],
         "timeFrom":null,
         "timeShift":null,
         "title":"Pods",
         "transform":"table",
         "type":"table-old"
      },
      {
         "cacheTimeout":null,
         "colorBackground":false,
         "colorValue":true,
         "colors":[
            "#299c46",
            "rgba(237, 129, 40, 0.89)",
            "#d44a3a"
         ],
         "datasource":"${DS_PROMETHEUS}",
         "fieldConfig":{
            "defaults":{
               "custom":{
                  
               }
            },
            "overrides":[
               
            ]
         },
         "format":"none",
         "gauge":{
            "maxValue":100,
            "minValue":0,
            "show":false,
            "thresholdLabels":false,
            "thresholdMarkers":true
         },
         "gridPos":{
            "h":6,
            "w":4,
            "x":0,
            "y":28
         },
         "id":6,
         "interval":null,
         "links":[
            
         ],
         "mappingType":1,
         "mappingTypes":[
            {
               "name":"value to text",
               "value":1
            },
            {
               "name":"range to text",
               "value":2
            }
         ],
         "maxDataPoints":100,
         "nullPointMode":"connected",
         "nullText":null,
         "pluginVersion":"6.7.1",
         "postfix":"",
         "postfixFontSize":"50%",
         "prefix":"",
         "prefixFontSize":"50%",
         "rangeMaps":[
            {
               "from":"null",
               "text":"N/A",
               "to":"null"
            }
         ],
         "sparkline":{
            "fillColor":"rgba(31, 118, 189, 0.18)",
            "full":false,
            "lineColor":"rgb(31, 120, 193)",
            "show":false,
            "ymax":null,
            "ymin":null
         },
         "tableColumn":"",
         "targets":[
            {
               "expr":"count(kube_persistentvolumeclaim_info * on(namespace) group_left(label_name) kube_namespace_labels{label_cliente=~\"$aplicacion*\"})",
               "format":"table",
               "hide":false,
               "instant":true,
               "interval":"",
               "intervalFactor":1,
               "legendFormat":"{$entorno}{$aplicacion} ({{pod}})",
               "refId":"A"
            }
         ],
         "thresholds":"",
         "timeFrom":null,
         "timeShift":null,
         "title":"Nº PVCs",
         "type":"singlestat",
         "valueFontSize":"200%",
         "valueMaps":[
            {
               "op":"=",
               "text":"N/A",
               "value":"null"
            }
         ],
         "valueName":"avg"
      },
      {
         "cacheTimeout":null,
         "columns":[
            
         ],
         "datasource":"${DS_PROMETHEUS}",
         "fieldConfig":{
            "defaults":{
               "custom":{
                  
               }
            },
            "overrides":[
               
            ]
         },
         "fontSize":"120%",
         "gridPos":{
            "h":18,
            "w":19,
            "x":4,
            "y":28
         },
         "id":7,
         "links":[
            
         ],
         "pageSize":null,
         "pluginVersion":"6.7.1",
         "showHeader":true,
         "sort":{
            "col":5,
            "desc":false
         },
         "styles":[
            {
               "alias":"Namespace",
               "align":"auto",
               "dateFormat":"YYYY-MM-DD HH:mm:ss",
               "pattern":"namespace",
               "type":"string"
            },
            {
               "alias":"PVC",
               "align":"auto",
               "colorMode":null,
               "colors":[
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
               ],
               "dateFormat":"YYYY-MM-DD HH:mm:ss",
               "decimals":2,
               "mappingType":1,
               "pattern":"persistentvolumeclaim",
               "thresholds":[
                  
               ],
               "type":"string",
               "unit":"short"
            },
            {
               "alias":"StorageClass",
               "align":"auto",
               "colorMode":null,
               "colors":[
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
               ],
               "dateFormat":"YYYY-MM-DD HH:mm:ss",
               "decimals":2,
               "mappingType":1,
               "pattern":"storageclass",
               "thresholds":[
                  
               ],
               "type":"string",
               "unit":"short"
            },
            {
               "alias":"Volume",
               "align":"auto",
               "colorMode":null,
               "colors":[
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
               ],
               "dateFormat":"YYYY-MM-DD HH:mm:ss",
               "decimals":2,
               "mappingType":1,
               "pattern":"volumename",
               "thresholds":[
                  
               ],
               "type":"number",
               "unit":"short"
            },
            {
               "alias":"Usado",
               "align":"auto",
               "colorMode":null,
               "colors":[
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
               ],
               "dateFormat":"YYYY-MM-DD HH:mm:ss",
               "decimals":2,
               "mappingType":1,
               "pattern":"Value #B",
               "thresholds":[
                  
               ],
               "type":"number",
               "unit":"bytes"
            },
            {
               "alias":"Capacidad",
               "align":"auto",
               "colorMode":null,
               "colors":[
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
               ],
               "dateFormat":"YYYY-MM-DD HH:mm:ss",
               "decimals":2,
               "mappingType":1,
               "pattern":"Value #C",
               "thresholds":[
                  
               ],
               "type":"number",
               "unit":"bytes"
            },
            {
               "alias":"Disponible",
               "align":"auto",
               "colorMode":null,
               "colors":[
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
               ],
               "dateFormat":"YYYY-MM-DD HH:mm:ss",
               "decimals":2,
               "mappingType":1,
               "pattern":"Value #D",
               "thresholds":[
                  
               ],
               "type":"number",
               "unit":"bytes"
            },
            {
               "alias":"",
               "align":"right",
               "colorMode":null,
               "colors":[
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
               ],
               "decimals":2,
               "pattern":"/.*/",
               "thresholds":[
                  
               ],
               "type":"hidden",
               "unit":"short"
            }
         ],
         "targets":[
            {
               "expr":"(kube_persistentvolumeclaim_info) * on(namespace) group_left(label_name) kube_namespace_labels{label_cliente=~\"$aplicacion*\"}",
               "format":"table",
               "hide":false,
               "instant":true,
               "interval":"",
               "intervalFactor":2,
               "legendFormat":"",
               "refId":"A"
            },
            {
               "expr":"max by (persistentvolumeclaim,namespace) (kubelet_volume_stats_capacity_bytes)  * on(namespace) group_left(label_name) kube_namespace_labels{label_cliente=~\"$aplicacion*\"} ",
               "format":"table",
               "instant":true,
               "interval":"",
               "legendFormat":"",
               "refId":"C"
            },
            {
               "expr":"max by (persistentvolumeclaim,namespace) (kubelet_volume_stats_used_bytes) * on(namespace) group_left(label_name) kube_namespace_labels{label_cliente=~\"$aplicacion*\"} ",
               "format":"table",
               "instant":true,
               "interval":"",
               "legendFormat":"",
               "refId":"B"
            },
            {
               "expr":"max by (persistentvolumeclaim,namespace) (kubelet_volume_stats_available_bytes) * on(namespace) group_left(label_name) kube_namespace_labels{label_cliente=~\"$aplicacion*\"} ",
               "format":"table",
               "instant":true,
               "interval":"",
               "legendFormat":"",
               "refId":"D"
            }
         ],
         "timeFrom":null,
         "timeShift":null,
         "title":"PVCs",
         "transform":"table",
         "type":"table-old"
      },
      {
         "cacheTimeout":null,
         "colorBackground":false,
         "colorPostfix":false,
         "colorValue":true,
         "colors":[
            "#299c46",
            "rgba(237, 129, 40, 0.89)",
            "#d44a3a"
         ],
         "datasource":"${DS_PROMETHEUS}",
         "decimals":2,
         "fieldConfig":{
            "defaults":{
               "custom":{
                  
               }
            },
            "overrides":[
               
            ]
         },
         "format":"bytes",
         "gauge":{
            "maxValue":100,
            "minValue":0,
            "show":false,
            "thresholdLabels":false,
            "thresholdMarkers":true
         },
         "gridPos":{
            "h":6,
            "w":4,
            "x":0,
            "y":34
         },
         "id":8,
         "interval":null,
         "links":[
            
         ],
         "mappingType":1,
         "mappingTypes":[
            {
               "name":"value to text",
               "value":1
            },
            {
               "name":"range to text",
               "value":2
            }
         ],
         "maxDataPoints":100,
         "nullPointMode":"connected",
         "nullText":null,
         "pluginVersion":"6.7.1",
         "postfix":"",
         "postfixFontSize":"50%",
         "prefix":"",
         "prefixFontSize":"50%",
         "rangeMaps":[
            {
               "from":"null",
               "text":"N/A",
               "to":"null"
            }
         ],
         "sparkline":{
            "fillColor":"rgba(31, 118, 189, 0.18)",
            "full":false,
            "lineColor":"rgb(31, 120, 193)",
            "show":false,
            "ymax":null,
            "ymin":null
         },
         "tableColumn":"",
         "targets":[
            {
               "expr":"sum(max by (persistentvolumeclaim,namespace) (kubelet_volume_stats_capacity_bytes) * on(namespace) group_left(label_name) kube_namespace_labels{label_cliente=~\"$aplicacion*\"})\n",
               "format":"table",
               "instant":true,
               "interval":"",
               "legendFormat":"",
               "refId":"A"
            }
         ],
         "thresholds":"",
         "timeFrom":null,
         "timeShift":null,
         "title":"Espacio asignado",
         "type":"singlestat",
         "valueFontSize":"150%",
         "valueMaps":[
            {
               "op":"=",
               "text":"N/A",
               "value":"null"
            }
         ],
         "valueName":"first"
      },
      {
         "cacheTimeout":null,
         "colorBackground":false,
         "colorPostfix":false,
         "colorValue":true,
         "colors":[
            "#299c46",
            "rgba(237, 129, 40, 0.89)",
            "#d44a3a"
         ],
         "datasource":"${DS_PROMETHEUS}",
         "decimals":2,
         "fieldConfig":{
            "defaults":{
               "custom":{
                  
               }
            },
            "overrides":[
               
            ]
         },
         "format":"bytes",
         "gauge":{
            "maxValue":100,
            "minValue":0,
            "show":false,
            "thresholdLabels":false,
            "thresholdMarkers":true
         },
         "gridPos":{
            "h":6,
            "w":4,
            "x":0,
            "y":40
         },
         "id":15,
         "interval":null,
         "links":[
            
         ],
         "mappingType":1,
         "mappingTypes":[
            {
               "name":"value to text",
               "value":1
            },
            {
               "name":"range to text",
               "value":2
            }
         ],
         "maxDataPoints":100,
         "nullPointMode":"connected",
         "nullText":null,
         "pluginVersion":"6.7.1",
         "postfix":"",
         "postfixFontSize":"50%",
         "prefix":"",
         "prefixFontSize":"50%",
         "rangeMaps":[
            {
               "from":"null",
               "text":"N/A",
               "to":"null"
            }
         ],
         "sparkline":{
            "fillColor":"rgba(31, 118, 189, 0.18)",
            "full":false,
            "lineColor":"rgb(31, 120, 193)",
            "show":false,
            "ymax":null,
            "ymin":null
         },
         "tableColumn":"",
         "targets":[
            {
               "expr":"sum(kube_resourcequota{resource=\"limits.memory\",type=\"hard\"} * on(namespace) group_left(label_name) kube_namespace_labels{label_cliente=~\"$aplicacion*\"})\n",
               "format":"table",
               "instant":true,
               "interval":"",
               "legendFormat":"",
               "refId":"A"
            }
         ],
         "thresholds":"",
         "timeFrom":null,
         "timeShift":null,
         "title":"Memoria asignada",
         "type":"singlestat",
         "valueFontSize":"150%",
         "valueMaps":[
            {
               "op":"=",
               "text":"N/A",
               "value":"null"
            }
         ],
         "valueName":"first"
      }
   ],
   "schemaVersion":26,
   "style":"dark",
   "tags":[
      
   ],
   "templating":{
      "list":[
         {
            "allValue":"",
            "current":{
               
            },
            "datasource":"${DS_PROMETHEUS}",
            "definition":"label_values(label_cliente)",
            "error":null,
            "hide":0,
            "includeAll":false,
            "label":null,
            "multi":false,
            "name":"aplicacion",
            "options":[
               
            ],
            "query":"label_values(label_cliente)",
            "refresh":1,
            "regex":"",
            "skipUrlSync":false,
            "sort":0,
            "tagValuesQuery":"",
            "tags":[
               
            ],
            "tagsQuery":"",
            "type":"query",
            "useTags":false
         }
      ]
   },
   "time":{
      "from":"now-6h",
      "to":"now"
   },
   "timepicker":{
      "refresh_intervals":[
         "5s",
         "10s",
         "30s",
         "1m",
         "5m",
         "15m",
         "30m",
         "1h",
         "2h",
         "1d"
      ]
   },
   "timezone":"browser",
   "title":"Estadisticas Capacidad Copy",
   "uid":"m8KcoYjGz",
   "version":1
}
